# Nearshore Test API

## Overview

The Nearshore Test API provides a simple web application for managing devices and their respective firmware versions. This repository contains a Go application which enables Create, Read, Update, and Delete (CRUD) operations on devices and firmware through a set of defined API endpoints.

## ğŸ› ï¸ Technologies

- **Go 1.21+**: Main programming language.
- **Gin**: Web framework used.
- **Godotenv**: Utilized for handling environment variables.
- **PostgreSQL**: Database used for storing data.
- **Google UUID**: For generating UUIDs.
- **Bcrypt**: For hashing and verifying passwords.
- **Docker** & **Docker Compose**: For containerization and managing multi-container Docker applications, respectively.

## ğŸ“ Project Structure

```
nearshore-test/
â”‚
|â”€â”€ .dockers
|   â””â”€â”€ postgres
|       â””â”€â”€ Dockerfile
|       â””â”€â”€ init.sql
â”œâ”€â”€ internal
â”‚   â””â”€â”€ core
â”‚       â””â”€â”€ dc-nearshore
â”‚           â””â”€â”€ endpoint.go
â”‚       â””â”€â”€ device
â”‚           â””â”€â”€ endpoint.go
â”‚           â””â”€â”€ repository.go
â”‚           â””â”€â”€ service.go
|       â””â”€â”€ domain
â”‚           â””â”€â”€ device.go
â”‚           â””â”€â”€ firmware.go        
â”‚       â””â”€â”€ firmware
â”‚           â””â”€â”€ endpoint.go
â”‚           â””â”€â”€ repository.go
â”‚           â””â”€â”€ service.go
â”‚   â””â”€â”€ middlewares.go
â”‚   â””â”€â”€ urls.go
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ bootstrap
â”‚   â”‚   â””â”€â”€ bootstrap.go
â”‚   â”œâ”€â”€ helper
â”‚   â”‚   â””â”€â”€ password.go
â”‚   â”œâ”€â”€ meta
â”‚   â”‚   â””â”€â”€ meta.go
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ main.go
â”œâ”€â”€ README.md
```


## ğŸš€ Getting Started

### Prerequisites

- Docker & Docker Compose
- Postman or Insomnia (For API testing, optional)

### Setup & Running

1. **Clone the Repository**
    ```sh
    git clone https://github.com/cesarcruzc/nearshore_test
    ```

2. **Configure Environment Variables**
   Copy the `.env.example` file to `.env` and update the variables accordingly.

   ```sh
   cp .env.example .env

3. Run the following command to start the application:
    ```sh
    docker-compose up
    ```

4. The application will be available at `http://localhost:8080`

## ğŸŒ API Endpoints

### ğŸ” Authentication

The API employs Basic Authentication for accessing the **Devices** and **Firmware** endpoints. You must provide a valid username and password to interact with these endpoints.

### Using Basic Auth with cURL

When using cURL to make requests to the API, use the `-u` flag to pass the username and password:

```sh
curl -X GET http://localhost:8080/devices -u 'your-username:your-password'
```

### Devices

- GET /devices - Get all devices
- POST /devices - Create a device
- GET /devices/:id - Get a device
- PUT /devices/:id - Update a device
- DELETE /devices/:id - Delete a device

### Firmwares

- GET /firmwares - Get all firmwares
- POST /firmwares - Create a firmware
- GET /firmwares/:id - Get a firmware
- PUT /firmwares/:id - Update a firmware
- DELETE /firmwares/:id - Delete a firmware

### Other endpoints

- GET / - Service
- GET /health - Healthcheck

## ğŸ”— API Testing with Insomnia

Import the insomnia.json file into Insomnia to test the endpoints with predefined requests.

## ğŸ§‘â€ğŸ’» Author

- CÃ©sar Cruz
- cc.cruz.caceres@gmail.com